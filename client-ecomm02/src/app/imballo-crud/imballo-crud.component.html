<body>
    <h1>IMBALLO</h1>
    <br>
    <h2>Inserire i parametri di ricerca:</h2>

    <span *ngIf="state =='ricerca'">
        <input type="text" [(ngModel)]="mem.ricerca.ricerca">&nbsp;
        <button class="pointer" (click)="findImballo()">Cerca</button>&nbsp;
        <button class="pointer" id="aggiungi" (click)="addImballo()">Aggiungi</button>
    </span>
    <span *ngIf="state !='ricerca'">
        <input type="text" [(ngModel)]="mem.ricerca.ricerca"
            placeholder="imballo" hidden>
        <button class="pointer" (click)="findImballo()" hidden>Cerca</button>&nbsp;
        <button class="pointer" id="aggiungi" (click)="addImballo()" hidden>Aggiungi</button>
    </span>
    <span *ngIf="state =='aggiungi'">
        <div class="box">
            <h3>Form dati</h3>
            <br>
            <input type="text" [(ngModel)]="mem.imballoMod.imballo.descrizione"
                placeholder="descrizione">
            <input type="number" [(ngModel)]="mem.imballoMod.imballo.costo"
                placeholder="costo">
            <br>
            <h2 class="colortext">{{msg}}</h2>
            <br>
            <button class="pointer" id="conferma" (click)="confirm()">Conferma</button>&nbsp;
            <button class="pointer" id="annulla" (click)="close()">Annulla</button>
            <br>
            <br>
        </div>
    </span>
    <div *ngIf="state == 'modifica'" class="box">
        <br>
        nuova descrizione: <input type="text"
            [(ngModel)]="mem.imballoMod.imballo.descrizione"
            placeholder="descrizione">
        nuovo costo: <input type="number"
            [(ngModel)]="mem.imballoMod.imballo.costo"
            placeholder="costo">&nbsp;
        <br>
        <h2 class="colortext">{{msg}}</h2>
        <br>
        <button class="pointer" (click)="confirm()">Conferma modifica</button>&nbsp;
        <button class="pointer" (click)="close()">Annulla</button>
        <br>
        <br>
    </div>
    <div *ngIf="state == 'delete'" class="box">
        <h2>Eliminare {{mem.imballoMod.imballo.descrizione}}?</h2>
        <button class="pointer" (click)="removeImballo(mem.imballoMod.id)">Conferma</button>&nbsp;
        <button class="pointer" (click)="close()">Annulla</button>
        <br>
        <br>
    </div>
    <br>
    <br>
    <div *ngIf="state2 == 'visualizza'" class="box">
        <table>
            <h3>Form dati</h3>
            <tr>
                <th>Descrizione:</th>
                <th>Costo:</th>
            </tr>
            <tr>
                <td>
                    {{mem.imballoVis.descrizione}}
                </td>
                <td>
                    {{mem.imballoVis.costo}}
                </td>
            </tr>
        </table>
        <br>
    </div>
    <br>
    <br>
    <table *ngIf="state != 'aggiungi' && state != 'modifica' && state !=
        'delete'">
        <tr>
            <th>Descrizione</th>
            <th>Costo</th>
            <th>Modifica</th>
            <th>Rimuovi</th>
        </tr>
        <tr *ngFor="let i of mem.imballi; index as x">
            <td class="pointer" (click)="view(i, x)">{{i.descrizione}}</td>
            <td class="pointer" (click)="view(i, x)">{{i.costo}}</td>
            <td><button class="pointer" (click)="updateImballo(i, x)">Modifica</button>&nbsp;</td>
            <td><button class="pointer" (click)="canRemove(i, x)">Rimuovi</button></td>
        </tr>
    </table>
</body>